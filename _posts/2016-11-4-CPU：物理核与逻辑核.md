---
layout: post
title: CPU：物理核与逻辑核
tag:
  - 硬件
  - 操作系统
---


### 一、物理CPU

* 物理CPU数是指实际Server中插槽上的CPU个数
* 物理核数是指一个CPU上的物理核心数。
* 每个CPU上有一到多个物理核
* 物理总核数=物理CPU个数 X 每个物理CPU的核数

### 二、逻辑CPU

* 逻辑CPU是指处理器单元，它可以在与其它逻辑CPU并行执行。
* 一般所说的CPU核数是指逻辑CPU数。
* 总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数
* 如果采用了Intel的超线程技术（HT)，则上面公式的超线程数=2。即总逻辑CPU数为物理总核数的两倍


### 三、如何查看CPU信息

```bash
#Linux

#查看CPU信息
cat /proc/cpuinfo
#OUTPUT:
#processor		: 0			逻辑核ID
#vendor_id		: GenuineIntel
#cpu family		: 6
#model			: 45
#model name		: Intel(R) Xeon(R) CPU E5-2660 0 @ 2.20GHz
#stepping		: 
#cpu MHz		: 2200.000
#cache size		: 20480 KB
#physical id	: 0			物理CPU的编号
#siblings		: 2			所在物理CPU有几个逻辑核
#core id		: 0			物理核编号
#cpu cores		: 2			所在物理CPU有几个物理核
#apicid			: 0
#initial apicid	: 0
#fpu			: yes
#fpu_exception	: yes
#cpuid level	: 13
#wp				: yes
#flags			: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts xtopology tsc_reliable nonstop_tsc aperfmperf unfair_spinlock pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 popcnt aes xsave avx hypervisor lahf_lm ida arat xsaveopt pln pts dts
#bogomips		: 4400.00
#clflush size	: 64
#cache_alignment: 64	
#address sizes	: 40 bits physical, 48 bits virtual
#power management:
	
	
#查看物理CPU个数
cat /proc/cpuinfo| grep "physical id"| sort| uniq| wc -l
	
#查看物理CPU核数
cat /proc/cpuinfo| grep "cpu cores"| uniq

#查看逻辑CPU数
cat /proc/cpuinfo |grep "processor"|wc -l

#其他查看cpu信息的指令
lscpu

```

---

```bash

#OS X

#查看CPU信息
sysctl -n machdep.cpu
#machdep.cpu.core_count cpu物理核数

#查看物理CPU核数
sysctl hw.physicalcpu

#查看逻辑CPU核数
sysctl hw.logicalcpu

#hw.physicalcpu: The number of physical processors available in the current power management mode.
#hw.physicalcpu_max: The maximum number of physical processors that could be available this boot.
#hw.logicalcpu: The number of logical processors available in the current power management mode.
#hw.logicalcpu_max: The maximum number of logical processors that could be available this boot.
```